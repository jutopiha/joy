<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>JOY</title>
    <link rel="stylesheet" type="text/css" href="index.css" />
    <link rel="stylesheet" type="text/css" href="wrapper.css" />
    <link rel="stylesheet" type="text/css" href="monthlyStat.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script> <!--레이더 차트 가져오는곳-->


  </head>
  <body>

    <div class="header">
      <div class="wrapper">
        <a href="/">
          <img class="logo" src="img/티끌모아태산.png" />
        </a>
      <!-- <ul class="user_menu">
        <li><span>로그인</span></li>
        <li><span>회원가입</span></li>
      </ul> -->
              <div class="nav">
        <ul class="main_menu">
          <li>
            <span>내역 입력</span>
          </li>
          <li>
            <span>통계 조회</span>
          </li>
          <li>
            <span>퀘스트</span>
          </li>
          <li>
            <span>캐릭터</span>
          </li>
          <li>
            <span>커뮤니티</span>
          </li>
                                      <ul class="sub_menu">
                                              <li>
                                                      <ul class="depth2">
                                                              <li>
                                                                      <a href="/income" class="item">수입</a>
                                                              </li>
                                                              <li>
                                                                      <a href="/expense" class="item">지출</a>
                                                              </li>
                                                      </ul>
                                              </li>
                                              <li>
                                                      <ul class="depth2">
                                                              <li>일별</li>
                                                              <li>월별</li>
                                                      </ul>
                                              </li>
                                      </ul>
        </ul>
        </div>
      </div>
    </div>

    <div class="wrapper content">
      <h2 style="margin-bottom: 50px">월별 조회</h2>

      <ul class="tablist" role="tablist">
        <li class="tab" role="tab"><a href="#panel1">수입지출비교</a></li>
        <li class="tab" role="tab"><a href="#panel2">사용자비교</a></li>

        <li class="tab-menu">
          <div class="line"></div>
          <div class="line"></div>
        </li>
      </ul>
      <div class="tabpanel" id="panel1" role="tabpanel">
        <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
        <script src="https://www.amcharts.com/lib/3/pie.js"></script>
        <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>

        <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>

        <div class="chartdiv-container">
          <div id="chartdiv"></div>
        </div>

      </div>


      <div class="tabpanel" id="panel2" role="tabpanel">
        <div class="radarChart_con">
          <div>
            <canvas id="myChart"></canvas>
          </div>
        </div>
      </div>

      <div class="input_form">
        <form action="/">
          <div>
            <span>월 선택</span>
            <select name="month">
              <option value="1">1월</option>
              <option value="2">2월</option>
              <option value="3">3월</option>
              <option value="4">4월</option>
              <option value="5">5월</option>
              <option value="6">6월</option>
              <option value="7">7월</option>
              <option value="8">8월</option>
              <option value="9">9월</option>
              <option value="10">10월</option>
              <option value="11">11월</option>
              <option value="12">12월</option>
            </select>
          </div>

          <div class="submit_btn">
            <button type="submit">SUBMIT</button>
          </div>

        </form>
      </div>
    </div>


    <div class="footer">
      <img class="btm_logo" alt=" " src="img/티끌모아태산.png"/>
    </div>

  </body>
</html>
<script>
(function() {

function activateTab() {
  if(activeTab) {
    resetTab.call(activeTab);
  }
  this.parentNode.className = 'tab tab-active';
  activeTab = this;
  activePanel = document.getElementById(activeTab.getAttribute('href').substring(1));
  activePanel.className = 'tabpanel show';
  activePanel.setAttribute('aria-expanded', true);
}

function resetTab() {
  activeTab.parentNode.className = 'tab';
  if(activePanel) {
    activePanel.className = 'tabpanel hide';
    activePanel.setAttribute('aria-expanded', false);
  }
}

var doc = document,
    tabs = doc.querySelectorAll('.tab a'),
    panels = doc.querySelectorAll('.tabpanel'),
    activeTab = tabs[0],
    activePanel;

activateTab.call(activeTab);

for(var i = tabs.length - 1; i >= 0; i--) {
  tabs[i].addEventListener('click', activateTab, false);
}

})();






var chart = AmCharts.makeChart("chartdiv", {
  "type": "pie",
  "startDuration": 0,
  "theme": "light",
  "addClassNames": true,
  // "legend": {
  //   "position": "right",
  //   "marginRight": 100,
  //   "autoMargins": false
  // },
  "innerRadius": "60%",
  "defs": {
    "filter": [{
      "id": "shadow",
      "width": "200%",
      "height": "200%",
      "feOffset": {
        "result": "offOut",
        "in": "SourceAlpha",
        "dx": 0,
        "dy": 0
      },
      "feGaussianBlur": {
        "result": "blurOut",
        "in": "offOut",
        "stdDeviation": 5
      },
      "feBlend": {
        "in": "SourceGraphic",
        "in2": "blurOut",
        "mode": "normal"
      }
    }]
  },
  "dataProvider": [{
    "country": "수입",
    "litres": 10000
  }, {
    "country": "지출",
    "litres": 5000
  }],
  "valueField": "litres",
  "titleField": "country",
  "balloon": {
    "fillAlpha": 0,
    "borderAlpha": 0,
    "shadowAlpha": 0,
    "fixedPosition": true
  },
  "listeners": [{
    "event": "changed",
    "method": function(e) {
      console.log(e.type);
    }
  }],
  "chartCursor": {

  },
  "export": {
    "enabled": true
  }
});

chart.addListener("init", handleInit);

chart.addListener("rollOverSlice", function(e) {
  handleRollOver(e);
});

function handleInit() {
  chart.legend.addListener("rollOverItem", handleRollOver);
}

function handleRollOver(e) {

  var chart = e.chart,
    radiusReal = chart.radiusReal,
    innerRadius = parseInt(chart.innerRadius, 10) * 0.01,
    marginTop = radiusReal * innerRadius;

  $('.amcharts-balloon-div').css({
    marginTop: marginTop * -1
  });

  var wedge = e.dataItem.wedge.node;
  wedge.parentNode.appendChild(wedge);
}
</script>


<script type="text/javascript">
var ctx = document.getElementById('myChart').getContext('2d');

var myChart = new Chart(ctx, {
  type: 'radar',
  data: {
    labels: ['식비', '교통비', '문화', '생활', '음료/간식', '교육', '공과금', '기타'],
    datasets: [{
      label: '평균',
      data: [6, 5 , 1, 19, 5, 7, 11,20],
      backgroundColor: "rgba(255,0,0,0.4)",
      borderColor: "rgba(255,0,0,1)",
    }, {
      label: '본인',
      data: [2, 29, 5, 5, 2, 3, 10,20],
      backgroundColor: "rgba(255,153,0,0.4)",
      borderColor: "rgba(255,153,0,1)",
    }]
  }
});

</script>
